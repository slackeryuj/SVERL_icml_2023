<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.2.2 Chrome/134.0.6998.178 Electron/35.1.2 Safari/537.36" version="26.2.2">
  <diagram name="Page-1" id="fBnal-IAj5ZesWn_x8LH">
    <mxGraphModel dx="2184" dy="1666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="zM75ML-RmSuDYB4CsPwu-138" value="Portfolio_Management" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="218" y="1796" width="702" height="232" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-139" value="Low_Level_DRL" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="312" y="1410" width="330" height="336" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-140" value="High_Level_DRL" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="145" y="920" width="707" height="440" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-141" value="SHAP_Metrics" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="20" y="614" width="960" height="256" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-142" value="Data_Preparation" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="590" y="20" width="330" height="540" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-143" value="Financial Factor Data" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="650" y="50" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-144" value="Normalize Data" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="670" y="150" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-145" value="Rolling Windows" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="670" y="250" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-146" value="Train Multi-Head Attention Model" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="620" y="360" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-147" value="Compute SHAP Values" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="650" y="490" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-148" value="Aggregate SHAP Metrics per Period" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="624" y="639" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-149" value="Compute Mean Absolute SHAP" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="55" y="767" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-150" value="Compute SHAP Std Dev" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="365" y="779" width="224" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-151" value="Compute SHAP Std Ratios" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="639" y="779" width="242" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-153" value="Aggregate Stock-Level SHAP Metrics" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="347" y="945" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-154" value="KMeans Clustering" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="600" y="1073" width="190" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-155" value="High-Level PPO Agent" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="370" y="1177" width="214" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-156" value="Predict Market Regime" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="366" y="1281" width="222" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-157" value="Regime-Specific SHAP Metrics" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="347" y="1435" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-158" value="Low-Level PPO Agent" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="372" y="1563" width="211" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-159" value="Optimal Portfolio Allocation" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="347" y="1667" width="259" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-160" value="Dynamic Rebalancing" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="371" y="1821" width="211" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-161" value="Evaluate Portfolio Performance" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="347" y="1925" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-165" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-143" target="zM75ML-RmSuDYB4CsPwu-144">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-166" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-144" target="zM75ML-RmSuDYB4CsPwu-145">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-167" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-145" target="zM75ML-RmSuDYB4CsPwu-146">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-168" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-146" target="zM75ML-RmSuDYB4CsPwu-147">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-169" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-147" target="zM75ML-RmSuDYB4CsPwu-148">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-170" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.69;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-148" target="zM75ML-RmSuDYB4CsPwu-149">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="185" y="742" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-171" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.88;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-148" target="zM75ML-RmSuDYB4CsPwu-150">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="477" y="742" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-172" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.51;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-148" target="zM75ML-RmSuDYB4CsPwu-151">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="742" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-174" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0;entryY=0.13;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-149" target="zM75ML-RmSuDYB4CsPwu-153">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="185" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-175" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-150" target="zM75ML-RmSuDYB4CsPwu-153">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="477" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-176" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=1;entryY=0.12;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-151" target="zM75ML-RmSuDYB4CsPwu-153">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-177" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.99;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-153" target="zM75ML-RmSuDYB4CsPwu-154">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="695" y="1048" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-178" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.13;exitY=1;entryX=0.12;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-153" target="zM75ML-RmSuDYB4CsPwu-155">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="321" y="1048" />
              <mxPoint x="321" y="1152" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-179" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=1;entryY=0.03;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-154" target="zM75ML-RmSuDYB4CsPwu-155">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="695" y="1152" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-180" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-155" target="zM75ML-RmSuDYB4CsPwu-156">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-181" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-156" target="zM75ML-RmSuDYB4CsPwu-157">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-182" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-157" target="zM75ML-RmSuDYB4CsPwu-158">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-183" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-158" target="zM75ML-RmSuDYB4CsPwu-159">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-184" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-159" target="zM75ML-RmSuDYB4CsPwu-160">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zM75ML-RmSuDYB4CsPwu-185" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="zM75ML-RmSuDYB4CsPwu-160" target="zM75ML-RmSuDYB4CsPwu-161">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
